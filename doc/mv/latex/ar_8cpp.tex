\hypertarget{ar_8cpp}{\section{\-M\-V/ar.cpp \-File \-Reference}
\label{ar_8cpp}\index{\-M\-V/ar.\-cpp@{\-M\-V/ar.\-cpp}}
}
{\ttfamily \#include \char`\"{}ar.\-h\char`\"{}}\*
{\ttfamily \#include $<$gl/\-G\-L.\-h$>$}\*
{\ttfamily \#include $<$\-G\-L/freeglut.\-h$>$}\*
{\ttfamily \#include $<$iostream$>$}\*
{\ttfamily \#include $<$string$>$}\*
{\ttfamily \#include $<$\-A\-R/gsub.\-h$>$}\*
{\ttfamily \#include $<$\-A\-R/video.\-h$>$}\*
{\ttfamily \#include $<$boost/thread.\-hpp$>$}\*
{\ttfamily \#include \char`\"{}blaf.\-h\char`\"{}}\*
\subsection*{\-Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \hyperlink{namespacecg}{cg}
\item 
namespace \hyperlink{namespacecg_1_1pi}{cg\-::pi}
\item 
namespace \hyperlink{namespacecg_1_1pi_1_1ar}{cg\-::pi\-::ar}
\end{DoxyCompactItemize}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_afefc10089c39a2f9ff586acfff13020a}{cg\-::pi\-::ar\-::marker\-Detected} (\-Pattern pattern, \-A\-R\-Marker\-Info marker)
\begin{DoxyCompactList}\small\item\em \-Handles the matched markers, extracting position and orientation information. \-Tests the information extraction process by overlapping a manually rendered object (based on the translation and rotation data collected) with an automatically rendered object (loading the transformation matrix directly into \-Open\-G\-L). \end{DoxyCompactList}\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_ad75c3e3f77a179d1d503fb060b2913d1}{cg\-::pi\-::ar\-::render} (int pattern\-\_\-index, double gl\-\_\-mat\mbox{[}16\mbox{]})
\begin{DoxyCompactList}\small\item\em \-Main rendering function. \-Calls \hyperlink{namespacecg_1_1pi_1_1ar_a2a7b1d68ad09bf0baa75dc4e3339fc47}{render\-Auto} for the automatically set object and \hyperlink{namespacecg_1_1pi_1_1ar_a601058fdb418bc8d7c95e64256cee4c3}{render\-Manual} for the manually positioned and oriented object. \-Information is extracted through \hyperlink{namespacecg_1_1pi_1_1ar_a5b0f476cf646a6b0d26490f594f64a33}{extract\-Trans\-Model\-View}. \end{DoxyCompactList}\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_a5b0f476cf646a6b0d26490f594f64a33}{cg\-::pi\-::ar\-::extract\-Trans\-Model\-View} (double gl\-\_\-mat\mbox{[}16\mbox{]}, double $\ast$x, double $\ast$y, double $\ast$z, double $\ast$a, double $\ast$b, double $\ast$c)
\begin{DoxyCompactList}\small\item\em \-Extracts transformations from the \-Model\-View matrix (usually obtained automatically). \end{DoxyCompactList}\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_a2a7b1d68ad09bf0baa75dc4e3339fc47}{cg\-::pi\-::ar\-::render\-Auto} (int pattern\-\_\-index, double $\ast$gl\-\_\-mat)
\begin{DoxyCompactList}\small\item\em \-Renders an automatically positioned and oriented object, by loading a given \-Open\-G\-L \-Model\-View matrix. \end{DoxyCompactList}\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_a601058fdb418bc8d7c95e64256cee4c3}{cg\-::pi\-::ar\-::render\-Manual} (int pattern\-\_\-index, \-G\-Lfloat x, \-G\-Lfloat y, \-G\-Lfloat z, \-G\-Lfloat a, \-G\-Lfloat b, \-G\-Lfloat c)
\begin{DoxyCompactList}\small\item\em \-Renders a manually positioned and oriented object, using explicitly given information. \-The information required for this can be obtained from \hyperlink{namespacecg_1_1pi_1_1ar_a5b0f476cf646a6b0d26490f594f64a33}{extract\-Trans\-Model\-View}. \end{DoxyCompactList}\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_afbeb3f02a1e14188f2318042f389b99b}{cg\-::pi\-::ar\-::cleanup} ()
\begin{DoxyCompactList}\small\item\em \-Begins the process of termination by stopping the video capture and closing it, and calling the appropriate functions to release any other allocated resources. \end{DoxyCompactList}\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_a1fca5521342384d779b14b37af9dd953}{cg\-::pi\-::ar\-::init} ()
\begin{DoxyCompactList}\small\item\em \-Initializes the application components. \-This function calls init\-Vars, glut\-Init, sets up the video capture mechanism and the window, and loads the patterns. \end{DoxyCompactList}\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_ab47f004cfde539ec2606fa3c7aba0593}{cg\-::pi\-::ar\-::init} (float $\ast$\hyperlink{main_8cpp_a629aea9fa74244b9dc8f2ae5e420c291}{gl\-Transformation\-Matrix})
\begin{DoxyCompactList}\small\item\em \-Initialize the \-A\-R\-Tool\-Kit module. \end{DoxyCompactList}\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_a4476b94368312636b0ac2be0ae742ce9}{cg\-::pi\-::ar\-::mouse\-Func} (int button, int state, int x, int y)
\begin{DoxyCompactList}\small\item\em \-Mouse button handler. \-Currently implements no reaction to mouse button clicks. \end{DoxyCompactList}\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_a4a7af9e3d70418c8461519dc9f82ec71}{cg\-::pi\-::ar\-::key\-Func} (unsigned char key, int x, int y)
\begin{DoxyCompactList}\small\item\em \-Keyboard button handler. \begin{TabularC}{2}
\hline
\-Button \-Key &\-Reaction  \\\cline{1-2}
\-E\-S\-C &\-Prints framerate and quits.  \\\cline{1-2}
\end{TabularC}
\end{DoxyCompactList}\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_a7368a118340f3f79ae5ff24d75ac9041}{cg\-::pi\-::ar\-::loop\-Func} ()
\begin{DoxyCompactList}\small\item\em \-Main loop function\-: captures a video frame and checks it for markers. \-For every detected marker, compares it with the patterns set.\begin{DoxySeeAlso}{\-See also}
init\-Vars


\end{DoxySeeAlso}
\-When a detected marker is associated with a loaded pattern, calls \hyperlink{namespacecg_1_1pi_1_1ar_afefc10089c39a2f9ff586acfff13020a}{marker\-Detected}. \end{DoxyCompactList}\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_a8a0f3d10242ff8f4491b1b376ea8bf09}{cg\-::pi\-::ar\-::run} ()
\begin{DoxyCompactList}\small\item\em \-Starts the video capture and the application main loop. \end{DoxyCompactList}\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_a231a9527f1d785d52b483821b8e4afd9}{cg\-::pi\-::ar\-::lock\-Output} ()
\begin{DoxyCompactList}\small\item\em \-Ask for access to the output data. \end{DoxyCompactList}\item 
void \hyperlink{namespacecg_1_1pi_1_1ar_a975cc0ca7a96016024e8cebb34550de4}{cg\-::pi\-::ar\-::unlock\-Output} ()
\begin{DoxyCompactList}\small\item\em \-Dismiss the access to the output data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Variables}
\begin{DoxyCompactItemize}
\item 
const string \hyperlink{namespacecg_1_1pi_1_1ar_ada61113604afb0827c60d1ce05d7bc14}{cg\-::pi\-::ar\-::camera\-\_\-data\-\_\-filename} = \char`\"{}../conf/camera.\-dat\char`\"{}
\item 
\-A\-R\-Param \hyperlink{namespacecg_1_1pi_1_1ar_ab8aaea8a88d522dba301bbda1b2e83e8}{cg\-::pi\-::ar\-::camera\-\_\-param}
\item 
const int \hyperlink{namespacecg_1_1pi_1_1ar_af24c104be0dcdd7c93225b4a502d2218}{cg\-::pi\-::ar\-::pattern\-\_\-threshold} = 100
\item 
const double \hyperlink{namespacecg_1_1pi_1_1ar_ad69650d92577ded4642d917dfce4e253}{cg\-::pi\-::ar\-::pattern\-\_\-width} = 80.\-0
\item 
const string \hyperlink{namespacecg_1_1pi_1_1ar_ae2c3180f588b76bd373565b747fead03}{cg\-::pi\-::ar\-::pattern\-\_\-filename} = \char`\"{}../patterns/hiro.\-patt\char`\"{}
\item 
\-Pattern \hyperlink{namespacecg_1_1pi_1_1ar_a73773bdd3e1457f2e80a246d51c9c10b}{cg\-::pi\-::ar\-::pattern} (pattern\-\_\-filename)
\item 
double \hyperlink{namespacecg_1_1pi_1_1ar_a325752bd43485d2fc7977218ff01ca97}{cg\-::pi\-::ar\-::pattern\-\_\-transformation} \mbox{[}3\mbox{]}\mbox{[}4\mbox{]}
\item 
const string \hyperlink{namespacecg_1_1pi_1_1ar_aef204bbaf562a37c596d560a36a397c3}{cg\-::pi\-::ar\-::video\-\_\-conf\-\_\-filename} = \char`\"{}\char`\"{}
\item 
int \hyperlink{namespacecg_1_1pi_1_1ar_a66aed64c189cf8e9d0be11a1ac453843}{cg\-::pi\-::ar\-::video\-\_\-height}
\item 
int \hyperlink{namespacecg_1_1pi_1_1ar_a16114fb5e187c2a5bbaaac162d644df4}{cg\-::pi\-::ar\-::video\-\_\-width}
\item 
unsigned \hyperlink{namespacecg_1_1pi_1_1ar_a1acf4d5fc1ffdfdf7f395457b2b59a75}{cg\-::pi\-::ar\-::video\-\_\-frame\-\_\-count}
\item 
boost\-::mutex \hyperlink{namespacecg_1_1pi_1_1ar_af9c0ea4eefb7149284522e73acd06221}{cg\-::pi\-::ar\-::output\-\_\-mutex}
\item 
float $\ast$ \hyperlink{namespacecg_1_1pi_1_1ar_a3d6b78e9280aef07edbb62c471582713}{cg\-::pi\-::ar\-::gl\-Transformation\-Matrix}
\end{DoxyCompactItemize}
